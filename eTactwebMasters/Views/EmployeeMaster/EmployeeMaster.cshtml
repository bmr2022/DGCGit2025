@model eTactWeb.DOM.Models.EmployeeMasterModel;

@{
    ViewData["Title"] = "EmployeeMaster";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
}


<div class="card bg-gradient mb-3 border-light shadow-lg">
    <form asp-action="EmployeeMaster" asp-controller="EmployeeMaster" method="post" autocomplete="on" class="form-horizontal">
     @*    @Html.AntiForgeryToken() *@
        <div class="card-header card-headerBG text-light bg-gradient">
            <h5>
                <strong>Employee Master</strong>
                <span class="d-flex float-end" style="margin-top:-2px;">
                    <a asp-controller="EmployeeMaster" asp-action="Dashboard" asp-route-ID="0" class="btn btn-sm btn-outline-light bg-gradient">
                        <i class="fa-solid fa-grip fa-fw fa-lg fa-beat" aria-hidden="true"></i>
                        Dashboard
                    </a>
                    <div class="row justify-content-between g-2">
                        <div class="col-auto">
                            <a href="#" class="btn btn-primary btn-sm" onclick="PressBack();">
                                <i class="fa fa-chevron-circle-left fa-fw fa-lg" aria-hidden="true"></i>
                                BACK
                            </a>
                        </div>
                        @if (Model.Mode != "V" && Model.Mode != "SOC" && Model.Mode != "POC")
                        {
                            <div class="col-auto">
                                <a class="btn btn-secondary btn-sm" onclick="location.href=$('form')[0].action">
                                    <i class="fa fa-refresh fa-fw fa-lg" aria-hidden="true"></i>
                                    REFRESH
                                </a>
                            </div>
                            @if (Model.Mode == "U")
                            {
                                Model.Mode = "U";
                                <div class="col-auto">
                                    <button type="submit" class="UpdateButton btn btn-sm btn-outline-light bg-gradient submitBTN">
                                        <i class="fa fa-pencil-square fa-fw fa-lg" aria-hidden="true"></i>
                                        UPDATE
                                    </button>
                                </div>
                            }

                            else
                            {
                                <div class="col-auto">
                                    <button type="submit" class="btn btn-primary btn-sm submitBTN">
                                        <i class="fa-solid fa-chevron-circle-right"></i>
                                        SUBMIT
                                    </button>
                                </div>
                            }
                        }
                    </div>
                </span>
               
            </h5>
        </div>
        <div>
        </div>
        <div class="card-body bg-light pt-0">
            <div class="accordion shadow-lg">
                <div class="accordion-item" id="GI_Grid">
                    <h2 class="accordion-header" id="H_RParameter">
                        <button class="accordion-button text-light pnl1BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#B_RParameter" aria-expanded="true" aria-controls="B_RParameter">
                            <i class="fa-brands fa-wpforms fa-lg fa-fw pr35"></i>
                            Employee Detail
                        </button>
                    </h2>
                    <div id="B_RParameter" class="accordion-collapse collapse show pnl1 bg-gradient" aria-labelledby="H_RParameter">
                        <div class="accordion-body">
                            <div class="row g-2 gx-3 align-items-center">
                                    <input type="hidden" value="@Model.Mode" asp-for="Mode" />
                                <input type="hidden" value="@Environment.MachineName" asp-for="EntryByMachineName" />
                                <input asp-for="GridMode" type="hidden" class="form-control" value="@Model.GridMode" />
                                <input type="hidden" id="SrNo" value="" asp-for ="@Model.SrNo"/>
                                <input type="hidden" id="Edu_SrNo" asp-for="Edu_SrNo" />
                                <input type="hidden" id="Edu_GridMode" asp-for="Edu_GridMode" />
                                <input type="hidden" id="Exp_SrNo" asp-for="Exp_SrNo" />
                                <input type="hidden" id="Exp_GridMode" asp-for="Exp_GridMode" />

                                <div class="col-lg-2">
                                    <label asp-for="Branch" class="form-label">Branch</label>
                                    <input asp-for="Branch" class="form-control" readonly />
                                    
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="EntryDate" class="form-label" style="color: blue;">Entry Date</label>
                                    <input asp-for="EntryDate" class="form-control" readonly />
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="EmpId" class="form-label">EmpId</label>
                                    <input asp-for="EmpId" class="form-control" readonly />
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="EmpCode" class="form-label" style="color:red">EmpCode*</label>
                                    <input asp-for="EmpCode" class="form-control" readonly />
                                </div>
                                <div class="col-lg-4">
                                    <label asp-for="Name" class="form-label" style="color:red">Name</label>
                                    <input asp-for="Name" class="form-control" required />
                                </div>
                                <div class="col-lg-4">
                                    <label asp-for="Designation" class="form-label" style="color:red">Designation*</label>
                                    <select asp-for="Designation" class="form-select" asp-items="@(new SelectList(Model.DesignationList,"Value", "Text"))" onchange="GetEmpIdandEmpCode()" required>
                                        <option value="">-Select-</option>
                                    </select>
                                    <input type="hidden" asp-for="DesignationName" />
                                </div>
                                <div class="col-lg-4">
                                    <label asp-for="Department" class="form-label" style="color:red">Department*</label>
                                    <select asp-for="Department" class="form-select" asp-items="@(new SelectList(Model.DepartmentList,"Value", "Text"))" onchange="GetEmpIdandEmpCode()" required>
                                        <option value="">-Select-</option>
                                    </select>
                                    <input type="hidden" asp-for="DepartmentName" />
                                   
                                </div>
                                <div class="col-lg-4">
                                    <label asp-for="Category" class="form-label" style="color:red">Category*</label>
                                    <select asp-for="Category" class="form-select" asp-items="@(new SelectList(Model.CategoryList,"Value", "Text"))" required>
                                        <option value="">-Select-</option>
                                    </select>
                                    <input type="hidden" asp-for="CategoryName" />
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="DateOfJoining" class="form-label">DOJ</label>
                                    <input asp-for="DateOfJoining" class="form-control" readonly />
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="DOB" class="form-label">DOB</label>
                                    <input asp-for="DOB" class="form-control" readonly />
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="Shift" class="form-label"></label>
                                    <select asp-for="Shift" class="form-select" asp-items="@(new SelectList(Model.ShiftList,"Value", "Text"))">
                                        <option value="">-Select-</option>
                                    </select>
                                </div>
                                <div class="col-lg-2">
                                    <label asp-for="Active" class="form-label">Active</label>
                                    <select asp-for="Active" class="form-control" disabled>
                                        <option value="Y">Yes</option>
                                        <option value="N">No</option>
                                    </select>
                                </div>
                                <div class="col-lg-4">
                                    <label asp-for="DateOfResignation" class="form-label">Date Of Resignation</label>
                                    <input asp-for="DateOfResignation" class="form-control" disabled />
                                    <input type="hidden" asp-for="DateOfResignation" value="@Model.DateOfResignation" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:250px;">
                                    <label asp-for="NatureOfDuties" class="form-label">Nature Of Duties</label>
                                    <input asp-for="NatureOfDuties" class="form-control" />
                                </div>
                                 <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="Gender" class="form-label">Gender</label>
                                    <select asp-for="Gender" class="form-control" >
                                        <option value=""selected>-Select-</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>     
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="Nationality" class="form-label">Nationality</label>
                                    <select asp-for="Nationality" class="form-control" >
                                        <option value="">Select</option>
                                        <option value="I">Indian</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="MaritalStatus" class="form-label">MaritalStatus</label>
                                    <select asp-for="MaritalStatus" class="form-control" >
                                        <option value="">Select</option>
                                        <option value="M">Married</option>
                                        <option value="U">UnMerried</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="BloodGroup" class="form-label">BloodGroup</label>
                                    <select asp-for="BloodGroup" class="form-control" >
                                        <option value="">Select</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                    </select>
                                </div>
                                <div class=" col-lg-3 col-md-4 col-sm-6 col-xs-12">
                                    <label asp-for="Branches" class="form-label">Branch</label>
                                    <div class="form-check form-switch mx-3 w-auto position-absolute d-inline">
                                        @if (Model.Mode == "U" || Model.Mode == "V")
                                        {
                                            @*    foreach (var branch in @Model.Branch)
                                        {
                                        <input type="hidden" class="hiddenBranch" value="@branch" />
                                        } *@
                                            if (Model.Branches != null && Model.Branches.Any())
                                            {
                                                foreach (var branch in Model.Branches)
                                                {
                                                    <input type="hidden" class="hiddenBranch" value="@branch" />
                                                }
                                            }
                                        }

                                    </div>
                                    <select class="form-select" multiple="multiple" asp-for="Branches"></select>

                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:250px;">
                                    <label asp-for="CardNo" class="form-label">Card No</label>
                                    <input asp-for="CardNo" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ApplicationCode" class="form-label">Application Code </label>
                                    <input asp-for="ApplicationCode" class="form-control" />
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                @* contactinformation *@
                <div class="accordion-item">
                    <h2 class="accordion-header" id="H_SAGrid">
                        <button class="accordion-button collapsed text-light pnl4BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#ContactSection" aria-expanded="true" aria-controls="B_SAGrid">
                            <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Contact Information</strong>
                        </button>
                    </h2>

                    <div id="ContactSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                        <div class="accordion-body">
                            <div class="row g-2 gx-3" id="_ItemGrid">
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="MobileNo" class="form-label">Mobile No</label>
                                    <input asp-for="MobileNo" class="form-control"  />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="MobileNo2" class="form-label">Mobile2 No</label>
                                    <input asp-for="MobileNo2" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="EmailId" class="form-label">Email Id</label>
                                    <input asp-for="EmailId" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="CurrentAddress" class="form-label">Current Address</label>
                                    <input asp-for="CurrentAddress" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="permanentAddress" class="form-label">Permanent Address</label>
                                    <input asp-for="permanentAddress" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:150px;">
                                    <label asp-for="EmergencyContact" class="form-label">Emergency Contact</label>
                                    <input asp-for="EmergencyContact" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="EmergencyContactRelation" class="form-label">EmergencyContact Relation</label>
                                    <input asp-for="EmergencyContactRelation" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="EmergencyContactRelationName" class="form-label">EmergencyContact Relation Name</label>
                                    <input asp-for="EmergencyContactRelationName" class="form-control" />
                                </div>

                            </div>
                        </div>

                    </div>
                </div>
                @* salarydetail *@
                <div class="accordion-item">
                    <h2 class="accordion-header" id="HPanel2">
                        <button class="accordion-button collapsed text-light pnl1BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#SalarySection" aria-expanded="false" aria-controls="ODGrid">
                            <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Salary Detail</strong>
                        </button>
                    </h2>
                    <div id="SalarySection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                        <div class="accordion-body">
                            <div class="row g-2 gx-3" id="_ItemGrid">
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="BankName" class="form-label">Bank Name</label>
                                    <input asp-for="BankName" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="AccountNo" class="form-label">Account No</label>
                                    <input asp-for="AccountNo" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="PANNo" class="form-label">PAN No</label>
                                    <input asp-for="PANNo" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="AdharNo" class="form-label">Adhar No</label>
                                    <input asp-for="AdharNo" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="SwiftCode" class="form-label">Swift Code</label>
                                    <input asp-for="SwiftCode" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                    <label asp-for="PaymentMode" class="form-label">Payment Mode</label>
                                    <select asp-for="PaymentMode" class="form-control">
                                        <option value="RTGS">RTGS</option>
                                        <option value="Cash">Cash</option>
                                        <option value="Cheque">Cheque</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="PFNo" class="form-label">PFNo</label>
                                    <select asp-for="PFNo" class="form-control">
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="ESINo" class="form-label">ESI No</label>
                                    <select asp-for="ESINo" class="form-control">
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="GrossSalary" class="form-label">Gross Salary</label>
                                    <input asp-for="GrossSalary" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="BasicSalary" class="form-label">Basic Salary</label>
                                    <input asp-for="BasicSalary" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="CalculatePfOn" class="form-label">Calculate Pf On</label>
                                    <select asp-for="CalculatePfOn" class="form-control">
                                        <option value="">--Select--</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="SalaryCalculation" class="form-label">Salary Calculation</label>
                                    <select asp-for="SalaryCalculation" class="form-control">
                                        <option value="D">Day</option>
                                        <option value="H">Hour</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="SalaryBasis" class="form-label">Salary Basis(Hrs) </label>
                                    <input asp-for="SalaryBasis" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="PFApplicable" class="form-label">PF Applicable</label>
                                    <select asp-for="PFApplicable" class="form-control">
                                        <option value="Sta">Standard</option>
                                        <option value="Bas">Basic</option>
                                        <option value="Oth">Other</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ApplyPFFonmAmt" class="form-label">Apply PFF on mAmt </label>
                                    <input asp-for="ApplyPFFonmAmt" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ApplyESIFonmAmt" class="form-label">Apply ESI on mAmt </label>
                                    <input asp-for="ApplyESIFonmAmt" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="OTApplicable" class="form-label">OT Applicable</label>
                                    <select asp-for="OTApplicable" class="form-control">
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="LeaveApplicable" class="form-label">Leave Applicable</label>
                                    <select asp-for="LeaveApplicable" class="form-control">
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ESIApplicable" class="form-label">ESI Applicable</label>
                                    <select asp-for="ESIApplicable" class="form-control">
                                        <option value="Y">Yes</option>
                                        <option value="N">No</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:300px;">
                                    <label asp-for="LateMarkingCalculationApplicable" class="form-label">Late Marking CalculationApplicable</label>
                                    <select asp-for="LateMarkingCalculationApplicable" class="form-control">
                                        <option value="">-Select-</option>
                                        <option value="Y">Yes</option>
                                        <option value="N">No</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="GradeId" class="form-label" style="width:90px;">Emp Grade</label>

                                    <select id="GradeId" name="GradeId" class="form-control">
                                        <option value="">--Select--</option>
                                    </select>
                                </div>

                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="FixSalaryAmt" class="form-label">Fix SalaryAmt </label>
                                    <input asp-for="FixSalaryAmt" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:180px;">
                                    <label asp-for="NetSalaryAmt" class="form-label">Net SalaryAmt </label>
                                    <input asp-for="NetSalaryAmt" class="form-control" />
                                </div>

                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;">
                                    <label asp-for="CTC" class="form-label">CTC</label>
                                    <input asp-for="CTC" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:300px;">
                                    <label asp-for="WagesType" class="form-label">Wages Type</label>
                                    <select asp-for="WagesType" class="form-control" style="width:270px;">
                                        <option value="">-Select-</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                    @* allowance/deduction *@
                <div class="accordion-item">
                <h2 class="accordion-header" id="H_SAGrid">
                    <button class="accordion-button collapsed text-light pnl4BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#allowanceSection" aria-expanded="true" aria-controls="B_SAGrid">
                        <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Allowance/Deduction</strong>
                    </button>
                </h2>
               
                <div id="allowanceSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                    <div class="accordion-body">
                        <div class="row g-2 gx-3" id="_ItemGrid">
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;color:red;" >
                                <label asp-for="SalaryHead" class="form-label">Salary Head*</label>
                                <input asp-for="SalaryHeadId" type="hidden" value="@Model.SalaryHeadId"/>
                                    <select asp-for="SalaryHead" class="form-control" style="width:150px;">
                                    <option value="">-Select-</option>
                                        @if (Model.Mode == "U" || Model.Mode == "V")
                                        {
                                            <option value="@Model.SalaryHeadId" selected>@Model.SalaryHead</option>
                                        }
                                </select>
                            </div>
                                
                                @* <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:150px;color:red;">
                                    <label asp-for="AllowanceMode" class="form-label">Mode*</label>
                                    <input asp-for="AllowanceMode" class="form-control" readonly />
                                </div> *@
                                <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="AllowanceMode" class="form-label" style="color:red;"> Mode* </label>

                                    <select asp-for="AllowanceMode" class="form-control" style="width:190px;">
                                        @* <option value="@Model.AccountCode">-Select-</option> *@
                                        <option value="@Model.AllowanceMode">-Select-</option>
                                        <option value="%">%</option>
                                        <option value="Amt">Amt</option>
                                       
                                    </select>
                                </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:100px;color:red;">
                                <label asp-for="Percent" class="form-label">Percent</label>
                                    <input asp-for="Percent" class="form-control" readonly />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;color:red;">
                                <label asp-for="AllowanceAmount" class="form-label">Amount*</label>
                                <input asp-for="AllowanceAmount" class="form-control" />
                            </div>
                           @*  <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;color:red;">
                                    <label asp-for="AllowanceType" class="form-label">Allowance Type*</label>
                                    <input asp-for="AllowanceType" class="form-control" readonly />
                            </div> *@
                                <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12" style="width:200px;">
                                    <label id="Types" class="form-label" style="color:red;">Allowance Type*</label>
                                    <select asp-for="AllowanceType" class="form-control" style="width:190px;">
                                        @if (Model.Mode == "U" || Model.Mode == "V")
                                        {
                                            <option value="@Model.AllowanceType" selected>@Model.AllowanceType</option>
                                        }
                                    </select>
                                </div>
                            @* <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;color:red">
                                    <label asp-for="PartyPay" class="form-label">Part Of Payslip*</label>
                                    <input asp-for="PartyPay" class="form-control" readonly/>
                            </div> *@
                                <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12" style="width:200px;">
                                    <label class="form-label" asp-for="PartyPay" style="color:red;">Part Of Payslip*</label>
                                    <select asp-for="PartyPay" class="form-control" style="width:190px;">
                                       <option value="" selected>-Select-</option>
                                       <option value="Y" >Yes</option>
                                       <option value="N" >No</option>
                                        
                                    </select>
                                </div>
                                <button type="button" class="btn btn-sm btn-outline-danger " id="GridButton" style="width:200px;height:35px;margin-top:20px;margin-left:5px;">
                                    <i class="fa-solid fa-angles-down fa-fw fa-lg"></i> ADD TO GRID
                                </button>
                                <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12" style="margin-top:33px;">
                                    
                                </div>
                        </div>
                    </div>
                    <div class="progress my-2 mb-3" style="height: 4px;">
                        <div class="progress-bar progress-bar-striped bg-secondary progress-bar-animated" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="card">
                        <div class="card-body overflow-auto pb-0">
                            <table class="table table-hover table-bordered table-striped" id="GateMainTable">
                                <thead class="bg-gradient card-headerBG text-light small" style="white-space:nowrap">
                                    <tr>
                                        <th>Action</th>
                                        <th>Sr No</th>
                                        <th>Salary Head</th>
                                        <th>Mode</th>
                                        <th>Percent</th>
                                        <th>Amount</th>
                                        <th>Types</th>
                                            <th>PartOfPayslip</th>
                                    </tr>
                                </thead>
                                <tbody id="divStockGrid">
                                    <partial name="_EmployeeAllowanceGrid" />
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            @* job/workdetail *@
                <div class="accordion-item">
                    <h2 class="accordion-header" id="HPanel2">
                        <button class="accordion-button collapsed text-light pnl1BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#jobSection" aria-expanded="false" aria-controls="ODGrid">
                            <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Job & Work Detail</strong>
                        </button>
                    </h2>
                    <div id="jobSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                        <div class="accordion-body">
                            <div class="row g-2 gx-3" id="_ItemGrid">
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="JoiningDate" class="form-label">Joining Date</label>
                                    <input asp-for="JoiningDate" class="form-control" />
                                </div>
                               
                                @* <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;color:red;">
                                    <label asp-for="JobDesignation" class="form-label">JobDesignation*</label>
                                    <input asp-for="JobDesignationId" type="hidden" value="@Model.JobDesignationId" />
                                    <select asp-for="JobDesignation" class="form-control" style="width:150px;">
                                        <option value="">-Select-</option>
                                        @if (Model.Mode == "U" || Model.Mode == "V")
                                        {
                                        <option value="@Model.JobDesignationId" selected>@Model.JobDesignation</option>
                                        }
                                    </select>
                                </div> *@
                               
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ReportingMg" class="form-label">Reporting Mg</label>
                                    <select asp-for="ReportingMg" class="form-control" style="width:150px;">
                                        <option value="">Select</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="EmployeeType" class="form-label">Employee Type </label>
                                    <select asp-for="EmployeeType" class="form-control" style="width:150px;">
                                        <option value="">Select</option>
                                    </select>
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="WorkLocation" class="form-label">WorkLocation/Branch  </label>
                                    <select asp-for="WorkLocation" class="form-control">
                                        <option value="">Select</option>
                                    </select>
                                </div>
                               
                                
                                
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="JobProbationPeriod" class="form-label">JobProbationPeriod(Months)</label>
                                    <input asp-for="JobProbationPeriod" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ProbationStartDate" class="form-label">Probation StartDate</label>
                                    <input asp-for="ProbationStartDate" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="ProbationEndDate" class="form-label">Probation EndDate </label>
                                    <input asp-for="ProbationEndDate" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="DateOfConfirmation" class="form-label">Date Of Confirmation  </label>
                                    <input asp-for="DateOfConfirmation" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="JobReference1" class="form-label">JobReference1</label>
                                    <input asp-for="JobReference1" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                    <label asp-for="JobReference2" class="form-label">JobReference2 </label>
                                    <input asp-for="JobReference2" class="form-control" />
                                </div>

                                <label asp-for="ThroughId" class="form-label">Joining Through</label>
                                <select asp-for="ThroughId" id="JoiningThrough" class="form-control">
                                    <option value="">--Select--</option>
                                </select>

                            </div>
                        </div>

                    </div>
                </div>
                
            </div>
            @* document/idproof *@
                <div class="accordion-item">
                    <h2 class="accordion-header" id="H_SAGrid">
                        <button class="accordion-button collapsed text-light pnl4BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#documentSection" aria-expanded="true" aria-controls="B_SAGrid">
                            <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Document & IDProof</strong>
                        </button>
                    </h2>

                    <div id="documentSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                        <div class="accordion-body">
                            <div class="row g-2 gx-3" id="_ItemGrid">
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="PassportNo" class="form-label">National ID/Passport No</label>
                                    <input asp-for="PassportNo" class="form-control" />
                                </div>
                                 <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="WorkPeritVisa" class="form-label">Work Permit Visa</label>
                                    <input asp-for="WorkPeritVisa" class="form-control" />
                                </div>
                                 <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="DrivingLicenseNo" class="form-label">Driving Licence No</label>
                                    <input asp-for="DrivingLicenseNo" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="PANNo" class="form-label">PAN/Tan Identification No</label>
                                    <input asp-for="PANNo" class="form-control" />
                                </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="MedicalInsuranceDetail" class="form-label">Medical Insurance Detail</label>
                                    <input asp-for="MedicalInsuranceDetail" class="form-control" />
                                </div>

                               
                            </div>
                        </div>
                       
                    </div>
                </div>
                @* uploadsection *@

                <div class="accordion-item">
                    <h2 class="accordion-header" id="HPanel2">
                    <button class="accordion-button collapsed text-light pnl1BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#uploadsection" aria-expanded="false" aria-controls="ODGrid">
                            <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Upload Section</strong>
                        </button>
                    </h2>
                    <div id="uploadsection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                        <div class="accordion-body">
                          <div class="row g-2 gx-3" id="_ItemGrid">
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="fileUpload" class="form-label">Upload File</label>
                                    <input type="file" asp-for="fileUpload" class="form-control" />
                                </div>
                            <div class="col-xl-1 col-lg-2 col-md-2 col-sm-6 col-xs-12 d-flex align-items-end mb-4">
                                <button type="button" id="btnView" class="btn btn-primary w-100">View</button>
                            </div>
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                    <label asp-for="ThumbUnPress" class="form-label">Thumb UnPress</label>
                                    <input type="file" asp-for="ThumbUnPress" class="form-control" />
                                </div>
                            <div class="col-xl-1 col-lg-2 col-md-2 col-sm-6 col-xs-12 d-flex align-items-end mb-4">
                                <button type="button" id="btnViewThumb" class="btn btn-primary w-100">View</button>
                            </div>
                            
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                        <label asp-for="AadharCard" class="form-label">Aadhar Card</label>
                                        <input type="file" asp-for="AadharCard" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-2 col-md-2 col-sm-6 col-xs-12 d-flex align-items-end mb-4">
                                     <button type="button" id="btnViewAadharCard" class="btn btn-primary w-100">View</button>
                                </div>
                              
                                <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                        <label asp-for="SignaturePath" class="form-label">Signature </label>
                                        <input type="file" asp-for="SignaturePath" class="form-control" />
                                </div>
                                <div class="col-xl-1 col-lg-2 col-md-2 col-sm-6 col-xs-12 d-flex align-items-end mb-4">
                                  <button type="button" id="btnViewSignature" class="btn btn-primary w-100">View</button>
                                </div>
                               
                                    <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12 mb-4" style="width:200px;">
                                            <label asp-for="PhotographPath" class="form-label">Photograph </label>
                                            <input type="file" asp-for="PhotographPath" class="form-control" />
                                    </div>
                                <div class="col-xl-1 col-lg-2 col-md-2 col-sm-6 col-xs-12 d-flex align-items-end mb-4">
                                  <button type="button" id="btnViewPhotograph" class="btn btn-primary w-100">View</button>
                                </div>

                          </div>
                        </div>

                    </div>
                </div>
                
           @*  Eductional Qualification *@
            <div class="accordion-item">
                <h2 class="accordion-header" id="H_SAGrid">
                    <button class="accordion-button collapsed text-light pnl4BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#EductionalSection" aria-expanded="true" aria-controls="B_SAGrid">
                        <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Eductional Qualification</strong>
                    </button>
                </h2>

                <div id="EductionalSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                    <div class="accordion-body">
                        <div class="row g-2 gx-3" id="_ItemGrid">
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Qualification" class="form-label">Qualification</label>
                                <input asp-for="Qualification" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Univercity_Sch" class="form-label">Univercity/School</label>
                                <input asp-for="Univercity_Sch" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Per" class="form-label">Percent</label>
                                <input asp-for="Per" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="InYear" class="form-label">In Year</label>
                                <input asp-for="InYear" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Remark" class="form-label">Remark</label>
                                <input asp-for="Remark" class="form-control" />
                            </div>
                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12" style="margin-top:33px;">
                                <button type="button" class="btn btn-sm btn-outline-danger " id="GridButtonEduction">
                                    <i class="fa-solid fa-angles-down fa-fw fa-lg"></i> ADD TO GRID
                                </button>
                            </div>

                        </div>
                    </div>
                    @* grid *@
                    <div class="progress my-2 mb-3" style="height: 4px;">
                        <div class="progress-bar progress-bar-striped bg-secondary progress-bar-animated" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="card">
                        <div class="card-body overflow-auto pb-0">
                            <table class="table table-hover table-bordered table-striped" id="GateMainTable">
                                <thead class="bg-gradient card-headerBG text-light small" style="white-space:nowrap">
                                    <tr>
                                        <th>Action</th>
                                        <th>Sr No</th>
                                        <th>Qualification</th>
                                        <th>Univercity/Sch</th>
                                        <th>Percent</th>
                                        <th>In the Year</th>
                                        <th>Remark</th>

                                    </tr>
                                </thead>
                                <tbody id="divStockGridEduction">
                                    <partial name="_EducationalQualificationGrid" />
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
               
            </div>
            @* Experiance Deatil *@

            <div class="accordion-item">
                <h2 class="accordion-header" id="HPanel2">
                    <button class="accordion-button collapsed text-light pnl1BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#ExperianceSection" aria-expanded="false" aria-controls="ODGrid">
                        <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Experiance Detail</strong>
                    </button>
                </h2>
                <div id="ExperianceSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                    <div class="accordion-body">
                        <div class="row g-2 gx-3" id="_ItemGrid">
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="CompanyName" class="form-label">Company Name</label>
                                <input asp-for="CompanyName" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="CFromDate" class="form-label">From</label>
                                <input asp-for="CFromDate" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="CToDate" class="form-label">To</label>
                                <input asp-for="CToDate" class="form-control" />
                            </div>

                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Desigation" class="form-label">Desigation</label>
                                <input asp-for="Desigation" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Salary" class="form-label">Salary</label>
                                <input asp-for="Salary" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="Country" class="form-label">Country</label>
                                <input asp-for="Country" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="City" class="form-label">City</label>
                                <input asp-for="City" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="ContactPersonname" class="form-label">Contact Person name</label>
                                <input asp-for="ContactPersonname" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="ContactPersonNumber" class="form-label">Contact Person Number</label>
                                <input asp-for="ContactPersonNumber" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="HRPersonName" class="form-label">HR Person Name</label>
                                <input asp-for="HRPersonName" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="HRContactNo" class="form-label">HR Contact No</label>
                                <input asp-for="HRContactNo" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="ExeRemark" class="form-label">Remark</label>
                                <input asp-for="ExeRemark" class="form-control" />
                            </div>

                            <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12" style="margin-top:33px;">
                                <button type="button" class="btn btn-sm btn-outline-danger " id="GridButtonExperiance">
                                    <i class="fa-solid fa-angles-down fa-fw fa-lg"></i> ADD TO GRID
                                </button>
                            </div>
                        </div>
                    </div>
                    @* grid *@
                    <div class="progress my-2 mb-3" style="height: 4px;">
                        <div class="progress-bar progress-bar-striped bg-secondary progress-bar-animated" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="card">
                        <div class="card-body overflow-auto pb-0">
                            <table class="table table-hover table-bordered table-striped" id="GateMainTable">
                                <thead class="bg-gradient card-headerBG text-light small" style="white-space:nowrap">
                                    <tr>
                                        <th>Action</th>
                                        <th>Sr No</th>
                                        <th>Company Name</th>
                                        <th>From</th>
                                        <th>To</th>
                                        <th>Designation</th>
                                        <th>Salary</th>
                                        <th>Country</th>
                                        <th>City</th>
                                        <th>Contact Person name</th>
                                        <th>Contact Person Number</th>
                                        <th>HR Person Name</th>
                                        <th>HR Contact No</th>
                                        <th>Remark</th>

                                    </tr>
                                </thead>
                                <tbody id="divStockGridExperiance">
                                    <partial name="_EmployeeMasterExperianceGrid" />
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
               
            </div>
            @* Exit Detail*@
            <div class="accordion-item">
                <h2 class="accordion-header" id="H_SAGrid">
                    <button class="accordion-button collapsed text-light pnl4BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#ExitSection" aria-expanded="true" aria-controls="B_SAGrid">
                        <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Exit Detail</strong>
                    </button>
                </h2>

                <div id="ExitSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                    <div class="accordion-body">
                        <div class="row g-2 gx-3" id="_ItemGrid">
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="NoticPeriod" class="form-label">NoticPeriod(Months)</label>
                                <input asp-for="NoticPeriod" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:150px;">
                                <label asp-for="GratutyEligibility" class="form-label">GratutyEligibility</label>
                                <select asp-for="GratutyEligibility" class="form-control">
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="DateOfResignation" class="form-label">ResignationDate</label>
                                <input asp-for="DateOfResignation" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:150px;">
                                <label asp-for="Active" class="form-label">Active</label>
                                <select asp-for="Active" class="form-control">
                                    <option value="Y">Yes</option>
                                    <option value="N">No</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            @* Experiance Deatil *@

            <div class="accordion-item">
                <h2 class="accordion-header" id="HPanel2">
                    <button class="accordion-button collapsed text-light pnl1BG bg-gradient" type="button" data-bs-toggle="collapse" data-bs-target="#OtherDetailSection" aria-expanded="false" aria-controls="ODGrid">
                        <strong style="text-transform:uppercase"><i class="fa-solid fa-table-list fa-lg fa-fw pr35 fa-fade" style="--fa-animation-duration: 2s; --fa-fade-opacity: 0.6;"></i>Other Detail</strong>
                    </button>
                </h2>
                <div id="OtherDetailSection" class="accordion-collapse collapse pnl4 bg-gradient" aria-labelledby="H_SAGrid">
                    <div class="accordion-body">
                        <div class="row g-2 gx-3" id="_ItemGrid">
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:150px;">
                                <label asp-for="EmpReqNo" class="form-label">Emp ReqNo</label>
                                <select asp-for="EmpReqNo" class="form-control">
                                    <option value="">-Select-</option>
                                </select>
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="EmpReqYearcode" class="form-label">Emp Req Yearcode</label>
                                <input asp-for="EmpReqYearcode" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="EmpReqEntryId" class="form-label">Emp Req EntryId</label>
                                <input asp-for="EmpReqEntryId" class="form-control" />
                            </div>
                            <div class="col-xl-1 col-lg-3 col-md-3 col-sm-6 col-xs-12" style="width:200px;">
                                <label asp-for="EmpReqDate" class="form-label">Emp Req Date</label>
                                <input asp-for="EmpReqDate" class="form-control" />
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
           

        <div class="card-footer card-headerBG text-light bg-gradient">
                <div class="row justify-content-between g-2">
                    <h5>
                        <strong>Employee Master</strong>
                        <span class="d-flex float-end" style="margin-top:-2px;">
                            <a asp-controller="EmployeeMaster" asp-action="DashBoard" asp-route-ID="0" class="btn btn-sm btn-outline-light bg-gradient">
                                <i class="fa-solid fa-grip fa-fw fa-lg fa-beat" aria-hidden="true"></i>
                                Dashboard
                            </a>
                            <div class="row justify-content-between g-2">
                                <div class="col-auto">
                                    <a href="#" class="btn btn-primary btn-sm" onclick="PressBack();">
                                        <i class="fa fa-chevron-circle-left fa-fw fa-lg" aria-hidden="true"></i>
                                        BACK
                                    </a>
                                </div>
                                @if (Model.Mode != "V" && Model.Mode != "SOC" && Model.Mode != "POC")
                                {
                                    <div class="col-auto">
                                        <a class="btn btn-secondary btn-sm" onclick="location.href=$('form')[0].action">
                                            <i class="fa fa-refresh fa-fw fa-lg" aria-hidden="true"></i>
                                            REFRESH
                                        </a>
                                    </div>
                                    @if (Model.Mode == "U")
                                    {
                                        Model.Mode = "U";
                                        <div class="col-auto">
                                            <button type="submit" class="UpdateButton btn btn-sm btn-outline-light bg-gradient submitBTN">
                                                <i class="fa fa-pencil-square fa-fw fa-lg" aria-hidden="true"></i>
                                                UPDATE
                                            </button>
                                        </div>
                                    }

                                    else
                                    {
                                        <div class="col-auto">
                                            <button type="submit" class="btn btn-primary btn-sm submitBTN">
                                                <i class="fa-solid fa-chevron-circle-right"></i>
                                                SUBMIT
                                            </button>
                                        </div>
                                    }
                                }
                            </div>
                        </span>
                    </h5>
                </div>
            </div>
        
    </form>

</div>
@section Scripts {
    <script>
        $(document).ready(function () {

          
            $('#DateOfJoining').rules("remove", "required");
            $('#DOB').rules("remove", "required");
            $('#Shift').rules("remove", "required");
            $('#Active').rules("remove", "required");
            $('#DateOfResignation').rules("remove", "required");
            $('#NatureOfDuties').rules("remove", "required");
            $('#Gender').rules("remove", "required");
            $('#Nationality').rules("remove", "required");
            $('#MaritalStatus').rules("remove", "required");
            $('#BloodGroup').rules("remove", "required");
            $('#MobileNo').rules("remove", "required");
            $('#MobileNo2').rules("remove", "required");
            $('#EmailId').rules("remove", "required");
            $('#CurrentAddress').rules("remove", "required");
            $('#permanentAddress').rules("remove", "required");
            $('#EmergencyContact').rules("remove", "required");
            $('#EmergencyContactRelation').rules("remove", "required");
            $('#CardNo').rules("remove", "required");
            $('#ApplicationCode').rules("remove", "required");

            $('#BankName').rules("remove", "required");
            $('#AccountNo').rules("remove", "required");
            $('#PANNo').rules("remove", "required");
            $('#AdharNo').rules("remove", "required");
            $('#SwiftCode').rules("remove", "required");
            $('#PaymentMode').rules("remove", "required");
            $('#PFNo').rules("remove", "required");
            $('#ESINo').rules("remove", "required");
            $('#GrossSalary').rules("remove", "required");
            $('#BasicSalary').rules("remove", "required");
            $('#CalculatePfOn').rules("remove", "required");
            $('#SalaryCalculation').rules("remove", "required");
            $('#SalaryBasis').rules("remove", "required");
            $('#PFApplicable').rules("remove", "required");
            $('#ApplyPFFonmAmt').rules("remove", "required");
            $('#ApplyESIFonmAmt').rules("remove", "required");
            $('#OTApplicable').rules("remove", "required");
            $('#LeaveApplicable').rules("remove", "required");
            $('#ESIApplicable').rules("remove", "required");
            $('#LateMarkingCalculationApplicable').rules("remove", "required");
            $('#FixSalaryAmt').rules("remove", "required");
            $('#SalaryHead').rules("remove", "required");
            $('#AllowanceMode').rules("remove", "required");
            $('#Percent').rules("remove", "required");
            $('#AllowanceAmount').rules("remove", "required");
            $('#AllowanceType').rules("remove", "required");
            $('#PartyPay').rules("remove", "required");
            $('#WagesType').rules("remove", "required");

            $('#JoiningDate').rules("remove", "required");
            $('#JobDepartment').rules("remove", "required");
            $('#JobDesignation').rules("remove", "required");
            $('#ReportingMg').rules("remove", "required");
            $('#EmployeeType').rules("remove", "required");
            $('#WorkLocation').rules("remove", "required");
            $('#JObShift').rules("remove", "required");
            $('#GradeId ').rules("remove", "required");
            $('#JobProbationPeriod').rules("remove", "required");
            $('#ProbationStartDate').rules("remove", "required");
            $('#ProbationEndDate').rules("remove", "required");
            $('#DateOfConfirmation').rules("remove", "required");
            $('#JobReference1').rules("remove", "required");
            $('#JobReference2').rules("remove", "required");
            $('#JoiningThrough').rules("remove", "required");

            $('#PassportNo').rules("remove", "required");
            $('#WorkPeritVisa').rules("remove", "required");
            $('#DrivingLicenseNo').rules("remove", "required");
            $('#PanNo').rules("remove", "required");
            $('#MedicalInsuranceDetail').rules("remove", "required");

            $('#fileUpload').rules("remove", "required");
            $('#ThumbUnPress').rules("remove", "required");
            $('#AadharCard').rules("remove", "required");
            $('#SignaturePath').rules("remove", "required");
            $('#PhotographPath').rules("remove", "required");

            $('#Qualification').rules("remove", "required");
            $('#Univercity_Sch').rules("remove", "required");
            $('#Per').rules("remove", "required");
            $('#InYear').rules("remove", "required");
            $('#Remark').rules("remove", "required");

            $('#CompanyName').rules("remove", "required");
            $('#CFromDate').rules("remove", "required");
            $('#CToDate').rules("remove", "required");
            $('#Desigation').rules("remove", "required");
            $('#Salary').rules("remove", "required");

            $('#NoticPeriod').rules("remove", "required");
            $('#GratutyEligibility').rules("remove", "required");
            $('#ResignationDate').rules("remove", "required");
            $('#Active').rules("remove", "required");

            $('#EmpReqNo').rules("remove", "required");
            $('#EmpReqYearcode').rules("remove", "required");
            $('#EmpReqEntryId').rules("remove", "required");
            $('#EmpReqDate').rules("remove", "required");

            var mode = '@Model.Mode';
            $('#Nationality').select2();
            $('#MaritalStatus').select2();
            $('#BloodGroup').select2();
            $('#Gender').select2();
            $('#PaymentMode').select2();
            $('#SalaryHead').select2();
            $('#JobDepartment').select2();
            $('#JobDesignation').select2();
            $('#JObShift').select2();
            $('#EmployeeType').select2();
            $('#ReportingMg').select2();
            $('#Designation').select2();
            $('#Department').select2();
            $('#Category').select2();
            $('#GradeId ').select2();
            $('#JoiningThrough').select2();
            $('#WorkLocation').select2();
            $('#AllowanceMode').select2();
            $('#AllowanceType').select2();
            $('#PartyPay').select2();
            $('#WagesType').select2();
            $('#LateMarkingCalculationApplicable').select2();
            $('#EmpReqNo').select2();
            $('#CalculatePfOn').select2();
            $('#Branches').select2({
                placeholder: "-Select Branch-",
                width: '100%'
            });
            GetBranchList();
            function getFormattedToday() {
                const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
                    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

                let today = new Date();
                let day = String(today.getDate()).padStart(2, '0');
                let month = months[today.getMonth()];
                let year = today.getFullYear();

                return `${day}/${month}/${year}`;
            }
            var formattedToday = getFormattedToday();

            $('#ResignationDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#JoiningDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#DateOfConfirmation').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#ProbationStartDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#ProbationEndDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#CFromDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#CToDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#EmpReqDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);
            $('#EmpReqDate').datepicker({ dateFormat: 'dd/M/yy' }).val(formattedToday);

            // Set selected branches from hidden inputs
            var selectedBranches = [];
            $('.hiddenBranch').each(function () {
                selectedBranches.push($(this).val());
            });
            $('#Branches').val(selectedBranches).trigger('change');


            // $('#ResignationDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#JoiningDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#DateOfConfirmation').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#ProbationStartDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#ProbationEndDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#CFromDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#CToDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            // $('#EmpReqDate').datepicker({ dateFormat: 'dd/mm/yy' }).datepicker("setDate", 'now');
            
            if (mode === "U" || mode === "V") {
                $('#EntryDate').val('@Model.EntryDate');
                $('#DateOfJoining').val('@Model.DateOfJoining');
                $('#DOB').val('@Model.DOB');
                $('#DateOfResignation').val('@Model.DateOfResignation');
                $('#DOB').datepicker({ dateFormat: 'dd/mm/yy' });
                
                $('#DateOfJoining, #DateOfResignation').datepicker({ dateFormat: 'dd/mm/yy' });
            } else {

                $('#EntryDate, #DateOfJoining, #DOB')
                    .datepicker({ dateFormat: 'dd/M/yy' })
                    .val(formattedToday);
            }

            
            var eighteenYearsAgo = new Date();
            eighteenYearsAgo.setFullYear(eighteenYearsAgo.getFullYear() - 18);
            $('#DOB').datepicker("option", "maxDate", eighteenYearsAgo);

            GetSalaryHead();
            GetJobDepartMent();
            GetJobDesignation();
            GetJobShift();
            GetEmployeeType();
            GetReportingMg();
            FILLAllowanceMode();
            GetWorkLocation();
            GetRefThrough();
            GetReqNo();
            GetEmpGrade();
            GetWagesType();
            GetCalculatePfOn();
            $("#SalaryHead").change(function () {
                var salaryHeadValue = $(this).val();
                if (salaryHeadValue) {
                    //GetSalaryMode();
                }
            });
            $('#SalaryHead').change(function () {
                $('#SalaryHeadId').val($('#SalaryHead').val());
            });
            $('#JobDepartment').change(function () {
                $('#JobDepartmentId').val($('#JobDepartment').val());
            });
            $('#JobDesignation').change(function () {
                $('#JobDesignationId').val($('#JobDesignation').val());
            });
            $('#JObShift').change(function () {
                $('#JObShiftId').val($('#JObShift').val());
            });

            if (mode === "U") {
                $('#Active').prop("disabled", false);
                $('#DateOfResignation').prop("disabled", false);
            } else {
                $('#DateOfResignation').prop("disabled", true);
                $('#Active').val('Y').prop("disabled", true);
            }
            $('#AllowanceMode').change(function () {
                if ($(this).val() === '%') {
                    $('#Percent').prop('readonly', false);
                } else {
                    $('#Percent').prop('readonly', true); 
                    $('#Percent').val(''); 
                }
            });
            $('.submitBTN').click(function (e) {

                console.log("SubmitButton Click");
                e.preventDefault();
                
                $('form').submit();
            });

            $("#MobileNo,#MobileNo2").on("input", function () {
                var value = $(this).val();

                
                value = value.replace(/\D/g, '');
                $(this).val(value);

                if (value.length > 10) {
                    $.notify("Mobile number cannot be more than 10 digits.", "error");
                    $(this).val(value.substring(0, 10));
                }
            });

            $("#GrossSalary, #BasicSalary, #SalaryBasis, #ApplyPFFonmAmt, #ApplyESIFonmAmt,#FixSalaryAmt,#Percent,#AllowanceAmount,#JobProbationPeriod,#Per,#InYear,#Salary,#NoticPeriod").on("input", function () {
                let value = $(this).val();
                let id = $(this).attr("id");

               
                if (!/^\d*\.?\d*$/.test(value)) {
                    $.notify("Only positive numbers allowed in " + id, {
                        position: "top right",
                        className: "error"
                    });
                    $(this).val('');
                    $(this).focus();
                }
            });

            $(".submitBTN").click(function (e) {
                let isValid = true;

                function checkField(selector, errorMessage) {
                    if (!$(selector).val()) {
                        $.notify(errorMessage, "error");
                        isValid = false;
                    }
                }
              
               
                checkField("#Name", "Name is required");
                checkField("#Designation", "Designation is required");
                checkField("#Department", "Department is required");
                checkField("#Category", "Category is required");
                checkField("#DateOfResignation", "Date Of Resignation is required");
                checkField("#Shift", "Shift is required");
                checkField("#EmpCode", "EmpCode is required");
                //checkField("#SalaryHead", "SalaryHead is required");
                //checkField("#AllowanceMode", "AllowanceMode is required");
                //checkField("#AllowanceType", "AllowanceType is required");
                // checkField("#PartyPay", "PartyPay is required");

                if (!isValid) {
                    e.preventDefault(); 
                }
            });
            $('#btnView').click(function () {
                var fileInput = $('#fileUpload')[0];
                var file = fileInput.files[0];

                if (!file) {
                    $.notify(" Please select a file first!", {
                        className: 'warn',
                        position: "top center"
                    });
                    return;
                }

                var fileURL = URL.createObjectURL(file);
                window.open(fileURL, '_blank');
            });
        });
        $('#EmpGrade').change(function () {
            $('#GradeId').val($('#EmpGrade').val());
        });
        $('#EmpGrade').change(function () {
            $('#GradeId').val($('#EmpGrade').val());
        });

        $('#Department').on('change', function () {
            var selectedText = $(this).find('option:selected').text().trim();
            $('#DepartmentName').val(selectedText);
        });

        $('#Designation').on('change', function () {
            var selectedText = $(this).find('option:selected').text().trim();
            $('#DesignationName').val(selectedText);
        });
        $('#Category').on('change', function () {
            var selectedText = $(this).find('option:selected').text().trim();
            $('#CategoryName').val(selectedText);
        });
            function GetBranchList() {
            $.ajax({
                url: "@Url.Action("GetBranchList","ItemMaster")",
                type: "POST",
                async: false,
                success: function (data) {
                    var obj = $.parseJSON(data);

                    var selectedBranchName = ''; // branch name from model
                    var selectedValue = null;

                    var $branchSelect = $('#Branches');
                    $branchSelect.empty();

                    // Populate options: value = BranchDatabase, text = BranchName
                    obj.Result.Table.forEach(function (item) {
                        $branchSelect.append(
                            $('<option>', {
                                value: item.BranchDatabase,
                                text: item.BranchName
                            })
                        );

                        // If branch name matches CC, save the database name
                        if (item.BranchName === selectedBranchName) {
                            selectedValue = item.BranchDatabase;
                        }
                    });

                    // Pre-select using the database name
                    if (selectedValue) {
                        $branchSelect.val(selectedValue);
                    }

                    $branchSelect.trigger('change');
                },
                error: function (errMsg) {
                    $.notify(errMsg, { position: "top center", className: "error" });
                }
            });
        }

        function ClearItems() {

            $('#AllowanceMode, #AllowanceType, #PartyPay').val('');
            $('#SalaryHead,#SalaryHeadId').val("").trigger("change");//Drop

            $('#Percent, #AllowanceAmount').val(0);
            $('#GridMode').val("");
            $('#SrNo').val("");


            // $('select').prop('selectedIndex', 0);
        }
        // $('#GridButton').click(function (e) {
        //     e.preventDefault();
             
        //     var SchData = {
        //         SalaryHeadId: $('#SalaryHead').val(),
        //         SalaryHead: $('#SalaryHead option:selected').text(),
        //         AllowanceMode: $('#AllowanceMode').val(),
        //         Percent: $('#Percent').val(),
        //         AllowanceAmount: $('#AllowanceAmount').val() ,
        //         AllowanceType: $('#AllowanceType').val(),
        //         PartyPay: $('#PartyPay').val()
        //         //SalaryHead: $('#SalaryHead').find(":selected").text(),
               
        //     };
        //     console.log(SchData);
        //     $.ajax({
        //         type: "POST",
        //         url: '@Url.Action("AddToGridData", "EmployeeMaster")',
        //         data: { model: SchData },
        //         success: function (result, status, xhr) {
        //             if (xhr.status == 200 && xhr.responseText == result) {

        //                 $('#divStockGrid').html(result);
        //                 //TotalNoOfRows();
        //                 ClearItems();
        //             } else if (xhr.status == 207) {
        //                 $.notify('Duplicate Item...!', "info");
        //             }
        //         },
        //         error: function () {
        //             $.notify('Something Went Wrong, Please Try Again.', "error");
        //         }
        //     });
        // });
        // var EditEachItem = false;

        // function EditItemRow(SrNO) {

        //     if (EditEachItem) {
        //         $.notify('Cannot edit item while another item is being added to the grid!', "error");
        //         return;
        //     }

        //     $.ajax({
        //         url: '@Url.Action("EditItemRow")',
        //         type: "POST",
        //         data: { SrNO: SrNO, Mode: "U" },
        //         success: function (data) {

        //             var obj = $.parseJSON(data);
        //             if (obj != null) {
        //                 EditEachItem = true;

        //                 $('#SalaryHead').val(obj[0].SalaryHeadId).trigger("change");
        //                 $('#SalaryHeadId').val(obj[0].SalaryHeadId).trigger("change");
        //                 $('#AllowanceMode').val(obj[0].AllowanceMode);
        //                 $('#Percent').val(obj[0].Percent);
        //                 $('#AllowanceAmount').val(obj[0].AllowanceAmount);
        //                 $('#AllowanceType').val(obj[0].AllowanceType);
        //                 $('#PartyPay').val(obj[0].PartyPay);
                        
        //                 var rowCount = $('#divStockGrid tr').length;
        //                 for (var i = 1; i <= rowCount + 1; i++) {
        //                     $('#editItemGrid-' + i).css("pointer-events", "none");
        //                     $('#editItemGrid-' + i).css("cursor", "not-allowed");
        //                 }

        //                 DeleteItemRow(SrNO);
        //             }
        //         },
        //         error: function (response) {
        //             $.notify(response.responseText, "error");
        //         }
        //     });
        // }
        // function DeleteItemRow(SrNO) {

        //     $.ajax({
        //         url: '@Url.Action("DeleteItemRow")',
        //         type: "POST",
        //         data: { SrNO: SrNO, Mode: "U" },
        //         success: function (data, status, xhr) {
        //             $('#divStockGrid').html(data);
        //             $.notify("Process deleted from Grid", "info");
        //             EditEachItem = false;

        //         },
        //         error: function (response, status, xhr) {

        //             $.notify("Cannot delete item that exists in Other Grid!!!", "error");
        //         },
        //         failure: function (response, status, xhr) {
        //             alert(response.responseText);
        //             $.notify(response.responseText, "error");
        //         }
        //     });
        // }
        $('#GridButton').click(function (e) {
            e.preventDefault();

            EditEachItem = false;

            function isNullOrEmpty(val) {
                return val === undefined || val === null || val.trim() === "";
            }

            var srArray = [];
            $('#divStockGrid tr').each(function () {
                var srText = $(this).find('td[id^=SrNo]').text();
                if (!isNullOrEmpty(srText) && !isNaN(parseInt(srText))) {
                    srArray.push(parseInt(srText));
                }
            });

            var highestSrNo = srArray.length > 0 ? Math.max(...srArray) : 0;

            var srNo = $('#SrNo').val();
            var mode = $('#GridMode').val();

            if (mode !== "U" && (!srNo || srNo == "0" || srNo == "")) {
                mode = "";
                $('#GridMode').val("");
            }

            var finalSrNo;

            if (srNo && srNo != "0" && mode === "U") {
                finalSrNo = srNo;
            } else {
                finalSrNo = highestSrNo + 1; // for add
            }

            $('#SrNo').val(finalSrNo);

            var SchData = {
                SalaryHeadId: $('#SalaryHead').val(),
                SalaryHead: $('#SalaryHead option:selected').text(),
                AllowanceMode: $('#AllowanceMode').val(),
                Percent: $('#Percent').val(),
                AllowanceAmount: $('#AllowanceAmount').val(),
                AllowanceType: $('#AllowanceType').val(),
                PartyPay: $('#PartyPay').val(),
                SrNo: finalSrNo,
                GridMode: mode
            };

            console.log(SchData);

            $.ajax({
                type: "POST",
                url: '@Url.Action("AddToGridData", "EmployeeMaster")',
                data: { model: SchData },
                success: function (result, status, xhr) {
                    $('#divStockGrid').html(result);

                    $('#SrNo').val("");
                    $('#GridMode').val("");

                    EditEachItem = false;

                    ClearItems();
                }
            });
        });
        var EditEachItem = false;
        function EditItemRow(SrNo) {

            if (EditEachItem) {
                $.notify('Cannot edit item while another item is being added!', "error");
                return;
            }

            $.ajax({
                url: '@Url.Action("EditItemRow")',
                type: "POST",
                data: { SrNo: SrNo, Mode: "U" },
                success: function (data) {

                    var obj = $.parseJSON(data);

                    if (obj != null) {

                        EditEachItem = true;

                        $('#SrNo').val(obj[0].SrNo);
                        $('#GridMode').val("U");
                        $('#SalaryHead').val(obj[0].SalaryHeadId).trigger("change");
                                        $('#SalaryHeadId').val(obj[0].SalaryHeadId).trigger("change");
                                        $('#AllowanceMode').val(obj[0].AllowanceMode);
                                        $('#Percent').val(obj[0].Percent);
                                        $('#AllowanceAmount').val(obj[0].AllowanceAmount);
                                        $('#AllowanceType').val(obj[0].AllowanceType);
                                        $('#PartyPay').val(obj[0].PartyPay);
                        // Disable all edit icons
                        var rowCount = $('#divStockGrid tr').length;
                        for (var i = 1; i <= rowCount + 1; i++) {
                            $('#editItemGrid-' + i).css("pointer-events", "none")
                                .css("cursor", "not-allowed");
                        }

                        DeleteItemRow(SrNo);
                    }
                }
            });
        }
        function DeleteItemRow(SrNo) {

            $.ajax({
                url: '@Url.Action("DeleteItemRow")',
                type: "POST",
                data: { SrNo: SrNo, Mode: "U" },
                success: function (data) {

                    $('#divStockGrid').html(data);
                    $.notify("Item deleted", "info");

                    EditEachItem = false;
                }
            });
        }
        //-------new Code-------------
        $('#GridButtonEduction').click(function (e) {
            e.preventDefault();

            EditEachEductionItem = false;

            function isNullOrEmpty(val) {
                return val === undefined || val === null || val.trim() === "";
            }

            var srArray = [];
            $('#divStockGridEduction tr').each(function () {
                var srText = $(this).find('td[id^=SrNo]').text();
                if (!isNullOrEmpty(srText) && !isNaN(parseInt(srText))) {
                    srArray.push(parseInt(srText));
                }
            });

            var highestSrNo = srArray.length > 0 ? Math.max(...srArray) : 0;

            var srNo = $('#Edu_SrNo').val();
            var mode = $('#Edu_GridMode').val();

            if (mode !== "U" && (!srNo || srNo === "0" || srNo === "")) {
                mode = "";
                $('#Edu_GridMode').val("");
            }

            var finalSrNo;

            if (srNo && srNo !== "0" && mode === "U") {
                finalSrNo = srNo;
            } else {
                finalSrNo = highestSrNo + 1; // for add
            }

            $('#Edu_SrNo').val(finalSrNo);

            var SchData = {
                Edu_SrNo: finalSrNo,
                Qualification: $('#Qualification').val(),
                Univercity_Sch: $('#Univercity_Sch').val(),
                Per: $('#Per').val(),
                InYear: $('#InYear').val(),
                Remark: $('#Remark').val(),
                GridMode: mode
            };

            console.log(SchData);

            $.ajax({
                type: "POST",
                url: '@Url.Action("AddToGridDataEduction", "EmployeeMaster")',
                data: { model: SchData },
                success: function (result, status, xhr) {

                    $('#divStockGridEduction').html(result);

                    $('#Edu_SrNo').val("");
                    $('#Edu_GridMode').val("");
                    EditEachEductionItem = false;

                    ClearItems_Education();
                },
                error: function () {
                    $.notify('Something Went Wrong, Please Try Again.', "error");
                }
            });
        });
        var EditEachEductionItem = false;

        function EditEductionItemRow(Edu_SrNo) {

            if (EditEachEductionItem) {
                $.notify('Cannot edit item while another item is being added!', "error");
                return;
            }

            $.ajax({
                url: '@Url.Action("EditEductionItemRow")',
                type: "POST",
                data: { Edu_SrNo: Edu_SrNo, Edu_GridMode: "U" },
                success: function (data) {

                    var obj = $.parseJSON(data);

                    if (obj != null) {

                        EditEachEductionItem = true;

                        $('#Edu_SrNo').val(obj[0].SrNo);
                        $('#Edu_GridMode').val("U");

                        $('#Qualification').val(obj[0].Qualification);
                        $('#Univercity_Sch').val(obj[0].Univercity_Sch);
                        $('#Per').val(obj[0].Per);
                        $('#InYear').val(obj[0].InYear);
                        $('#Remark').val(obj[0].Remark);

                        var rowCount = $('#divStockGridEduction tr').length;
                        for (var i = 1; i <= rowCount + 1; i++) {
                            $('#eduEditItemGrid-' + i).css("pointer-events", "none")
                                .css("cursor", "not-allowed");
                        }

                        DeleteEductionItemRow(Edu_SrNo);
                    }
                }
            });
        }
        function DeleteEductionItemRow(Edu_SrNo) {

            $.ajax({
                url: '@Url.Action("DeleteEductionItemRow")',
                type: "POST",
                data: { Edu_SrNo: Edu_SrNo, Edu_GridMode: "U" },
                success: function (data) {

                    $('#divStockGridEduction').html(data);
                    $.notify("Item deleted", "info");

                    EditEachEductionItem = false;
                }
            });
        }

        // $('#GridButtonEduction').click(function (e) {
        //     e.preventDefault();
             
        //     var SchData = {
        //         Qualification: $('#Qualification').val(),
        //         Univercity_Sch: $('#Univercity_Sch').val(),
        //         Per: $('#Per').val(),
        //         InYear: $('#InYear').val(),
        //         Remark: $('#Remark').val(),
               
        //     };
        //     console.log(SchData);
        //     $.ajax({
        //         type: "POST",
        //         url: '@Url.Action("AddToGridDataEduction", "EmployeeMaster")',
        //         data: { model: SchData },
        //         success: function (result, status, xhr) {
        //             if (xhr.status == 200 && xhr.responseText == result) {

        //                 $('#divStockGridEduction').html(result);
        //                 TotalNoOfRows();
        //                 ClearItems();
        //             } else if (xhr.status == 207) {
        //                 $.notify('Duplicate Item...!', "info");
        //             }
        //         },
        //         error: function () {
        //             $.notify('Something Went Wrong, Please Try Again.', "error");
        //         }
        //     });
        // });
        // var EditEachEductionItem = false;

        // function EditEductionItemRow(SrNO) {

        //     if (EditEachEductionItem) {
        //         $.notify('Cannot edit item while another item is being added to the grid!', "error");
        //         return;
        //     }

        //     $.ajax({
        //         url: '@Url.Action("EditEductionItemRow")',
        //         type: "POST",
        //         data: { SrNO: SrNO, Mode: "U" },
        //         success: function (data) {

        //             var obj = $.parseJSON(data);
        //             if (obj != null) {
        //                 EditEachEductionItem = true;

        //                 $('#Qualification').val(obj[0].Qualification);
        //                 $('#Univercity_Sch').val(obj[0].Univercity_Sch);
        //                 $('#Per').val(obj[0].Per);
        //                 $('#InYear').val(obj[0].InYear);
        //                 $('#Remark').val(obj[0].Remark);

        //                 var rowCount = $('#divStockGridEduction tr').length;
        //                 for (var i = 1; i <= rowCount + 1; i++) {
        //                     $('#editItemGrid-' + i).css("pointer-events", "none");
        //                     $('#editItemGrid-' + i).css("cursor", "not-allowed");
        //                 }

        //                 DeleteEductionItemRow(SrNO);
        //             }
        //         },
        //         error: function (response) {
        //             $.notify(response.responseText, "error");
        //         }
        //     });
        // }
        // function DeleteEductionItemRow(SrNO) {

        //     $.ajax({
        //         url: '@Url.Action("DeleteEductionItemRow")',
        //         type: "POST",
        //         data: { SrNO: SrNO, Mode: "U" },
        //         success: function (data, status, xhr) {
        //             $('#divStockGridEduction').html(data);
        //             $.notify("Process deleted from Grid", "info");
        //             EditEachEductionItem = false;

        //         },
        //         error: function (response, status, xhr) {

        //             $.notify("Cannot delete item that exists in Other Grid!!!", "error");
        //         },
        //         failure: function (response, status, xhr) {
        //             alert(response.responseText);
        //             $.notify(response.responseText, "error");
        //         }
        //     });
        // }
        //--------------New Code----------
        $('#GridButtonExperiance').click(function (e) {
            e.preventDefault();

            EditEachExperianceItem = false;

            // function same as education
            function isNullOrEmpty(val) {
                return val === undefined || val === null || val.trim() === "";
            }

            // get all SrNo from table
            var srArray = [];
            $('#divStockGridExperiance tr').each(function () {
                var srText = $(this).find('td[id^=SrNo]').text();
                if (!isNullOrEmpty(srText) && !isNaN(parseInt(srText))) {
                    srArray.push(parseInt(srText));
                }
            });

            var highestSrNo = srArray.length > 0 ? Math.max(...srArray) : 0;

            var srNo = $('#Exp_SrNo').val();
            var mode = $('#Exp_GridMode').val();

            // If inserting new
            if (mode !== "U" && (!srNo || srNo === "0" || srNo === "")) {
                mode = "";
                $('#Exp_GridMode').val("");
            }

            var finalSrNo;

            if (srNo && srNo !== "0" && mode === "U") {
                finalSrNo = srNo; // update
            } else {
                finalSrNo = highestSrNo + 1; // new add
            }

            $('#Exp_SrNo').val(finalSrNo);

            var SchData = {
                SrNo: finalSrNo,
                CompanyName: $('#CompanyName').val(),
                CFromDate: $('#CFromDate').val(),
                CToDate: $('#CToDate').val(),
                Desigation: $('#Desigation').val(),
                Salary: $('#Salary').val(),
                Country: $('#Country').val(),
                City: $('#City').val(),
                ContactPersonname: $('#ContactPersonname').val(),
                ContactPersonNumber: $('#ContactPersonNumber').val(),
                HRPersonName: $('#HRPersonName').val(),
                HRContactNo: $('#HRContactNo').val(),
                ExeRemark: $('#ExeRemark').val(),
                GridMode: mode
            };

            $.ajax({
                type: "POST",
                url: '@Url.Action("AddToGridDataExperiance", "EmployeeMaster")',
                data: { model: SchData },
                success: function (result, status, xhr) {

                    $('#divStockGridExperiance').html(result);
                    ClearExperianceFields();

                    $('#Exp_SrNo').val("");
                    $('#Exp_GridMode').val("");

                    EditEachExperianceItem = false;
                },
                error: function () {
                    $.notify('Something Went Wrong, Please Try Again.', "error");
                }
            });
        });
        var EditEachExperianceItem = false;

        function EditExperianceItemRow(Exp_SrNo) {

            if (EditEachExperianceItem) {
                $.notify("You are already editing another row!", "error");
                return;
            }

            $.ajax({
                url: '@Url.Action("EditExperianceItemRow")',
                type: "POST",
                data: { Exp_SrNo: Exp_SrNo, Exp_GridMode: "U" },
                success: function (data) {

                    var obj = $.parseJSON(data);

                    if (obj != null) {

                        EditEachExperianceItem = true;

                        $('#Exp_SrNo').val(obj[0].Exp_SrNo);
                        $('#Exp_GridMode').val("U");

                        $('#CompanyName').val(obj[0].CompanyName);
                        $('#CFromDate').val(obj[0].CFromDate);
                        $('#CToDate').val(obj[0].CToDate);
                        $('#Desigation').val(obj[0].Desigation);
                        $('#Salary').val(obj[0].Salary);
                        $('#Country').val(obj[0].Country);
                        $('#City').val(obj[0].City);
                        $('#ContactPersonname').val(obj[0].ContactPersonname);
                        $('#ContactPersonNumber').val(obj[0].ContactPersonNumber);
                        $('#HRPersonName').val(obj[0].HRPersonName);
                        $('#HRContactNo').val(obj[0].HRContactNo);
                        $('#ExeRemark').val(obj[0].ExeRemark);

                        // disable all edit buttons
                        $('#divStockGridExperiance a[id^="editItemGrid-"]').css({
                            "pointer-events": "none",
                            "cursor": "not-allowed"
                        });

                        DeleteExperianceItemRow(Exp_SrNo);
                    }
                },
                error: function (response) {
                    $.notify(response.responseText, "error");
                }
            });
        }
        function DeleteExperianceItemRow(Exp_SrNo) {

            $.ajax({
                url: '@Url.Action("DeleteExperianceItemRow")',
                type: "POST",
                data: { Exp_SrNo: Exp_SrNo, Exp_GridMode: "U" },
                success: function (data) {
                    $('#divStockGridExperiance').html(data);
                    $.notify("Record Deleted from Grid", "info");
                    EditEachExperianceItem = false;
                },
                error: function () {
                    $.notify("Cannot delete item that exists in other references!", "error");
                }
            });
        }

        // $('#GridButtonExperiance').click(function (e) {
        //     e.preventDefault();
             
        //     var SchData = {
        //         CompanyName: $('#CompanyName').val(),
        //         CFromDate: $('#CFromDate').val(),
        //         CToDate: $('#CToDate').val(),
        //         Desigation: $('#Desigation').val(),
        //         Salary: $('#Salary').val(),
        //         Country: $('#Country').val(),
        //         City: $('#City').val(),
        //         ContactPersonname: $('#ContactPersonname').val(),
        //         ContactPersonNumber: $('#ContactPersonNumber').val(),
        //         HRPersonName: $('#HRPersonName').val(),
        //         HRContactNo: $('#HRContactNo').val(),
        //         ExeRemark: $('#ExeRemark').val(),
        //     };
        //     console.log(SchData);
        //     $.ajax({
        //         type: "POST",
        //         url: '@Url.Action("AddToGridDataExperiance", "EmployeeMaster")',
        //         data: { model: SchData },
        //         success: function (result, status, xhr) {
        //             if (xhr.status == 200 && xhr.responseText == result) {
        //                 $('#divStockGridExperiance').html(result);
        //                 TotalNoOfRows();
        //                 ClearItems();
        //             } else if (xhr.status == 207) {
        //                 $.notify('Duplicate Item...!', "info");
        //             }
        //         },
        //         error: function () {
        //             $.notify('Something Went Wrong, Please Try Again.', "error");
        //         }
        //     });
        // });
        // var EditEachExperianceItem = false;

        // function EditExperianceItemRow(SrNO) {

        //     if (EditEachExperianceItem) {
        //         $.notify('Cannot edit item while another item is being added to the grid!', "error");
        //         return;
        //     }

        //     $.ajax({
        //         url: '@Url.Action("EditExperianceItemRow")',
        //         type: "POST",
        //         data: { SrNO: SrNO, Mode: "U" },
        //         success: function (data) {

        //             var obj = $.parseJSON(data);
        //             if (obj != null) {
        //                 EditEachExperianceItem = true;

        //                 $('#CompanyName').val(obj[0].CompanyName);
        //                 $('#CFromDate').val(obj[0].CFromDate);
        //                 $('#CToDate').val(obj[0].CToDate);
        //                 $('#Desigation').val(obj[0].Desigation);
        //                 $('#Salary').val(obj[0].Salary);
        //                 $('#Country').val(obj[0].Country);
        //                 $('#City').val(obj[0].City);
        //                 $('#ContactPersonname').val(obj[0].ContactPersonname);
        //                 $('#ContactPersonNumber').val(obj[0].ContactPersonNumber);
        //                 $('#HRPersonName').val(obj[0].HRPersonName);
        //                 $('#HRContactNo').val(obj[0].HRContactNo);
        //                 $('#ExeRemark').val(obj[0].ExeRemark);

        //                 var rowCount = $('#divStockGridExperiance tr').length;
        //                 for (var i = 1; i <= rowCount + 1; i++) {
        //                     $('#editItemGrid-' + i).css("pointer-events", "none");
        //                     $('#editItemGrid-' + i).css("cursor", "not-allowed");
        //                 }

        //                 DeleteExperianceItemRow(SrNO);
        //             }
        //         },
        //         error: function (response) {
        //             $.notify(response.responseText, "error");
        //         }
        //     });
        // }
        // function DeleteExperianceItemRow(SrNO) {

        //     $.ajax({
        //         url: '@Url.Action("DeleteExperianceItemRow")',
        //         type: "POST",
        //         data: { SrNO: SrNO, Mode: "U" },
        //         success: function (data, status, xhr) {
        //             $('#divStockGridExperiance').html(data);
        //             $.notify("Process deleted from Grid", "info");
        //             EditEachExperianceItem = false;

        //         },
        //         error: function (response, status, xhr) {

        //             $.notify("Cannot delete item that exists in Other Grid!!!", "error");
        //         },
        //         failure: function (response, status, xhr) {
        //             alert(response.responseText);
        //             $.notify(response.responseText, "error");
        //         }
        //     });
        // }
        function FILLAllowanceMode() {
            $.ajax({
                url: '@Url.Action("FILLAllowanceMode", "EmployeeMaster")',

                type: 'GET',
                async: false,
                success: function (response, status, error) {

                    var Dropdown = $('#AllowanceType');
                    var obj = $.parseJSON(response);
                    Dropdown.empty();
                    // PaymentModeDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, item) {
                        Dropdown.append('<option value="' + item.SalaryPaymentMode + '">' + item.SalaryPaymentMode + '</option>');
                    });
                    if ($('#Mode').val() == "U" || $('#Mode').val() == "V") {
                        var AllowanceMode = '@Model.AllowanceType';
                        $('#AllowanceMode').val(AllowanceMode).trigger("change");
                        $('#AllowanceMode').val(AllowanceMode);
                    }

                },
                error: function (xhr, status, error) {
                    alert('Failed to load groups.');
                }
            });
        }
        function GetWorkLocation() {
            $.ajax({
                url: '@Url.Action("GetWorkLocation", "EmployeeMaster")',

                type: 'GET',
                async: false,
                success: function (response, status, error) {

                    var Dropdown = $('#WorkLocation');
                    var obj = $.parseJSON(response);
                    Dropdown.empty();
                    // PaymentModeDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, item) {
                        Dropdown.append('<option value="' + item.Location + '">' + item.Location + '</option>');
                    });
                    if ($('#Mode').val() == "U" || $('#Mode').val() == "V") {
                        var WorkLocation = '@Model.WorkLocation';
                        $('#WorkLocation').val(WorkLocation).trigger("change");
                        $('#WorkLocation').val(WorkLocation);
                    }

                },
                error: function (xhr, status, error) {
                    alert('Failed to load groups.');
                }
            });
        }
        function GetReqNo() {
            var EntryDate = $('#EntryDate').val();
            $.ajax({
                url: '@Url.Action("GetReqNo", "EmployeeMaster")',
                type: 'GET',
                data: { EntryDate: EntryDate },
                async: false,
                success: function (response, status, error) {
                    var Dropdown = $('#EmpReqNo');
                    var obj = $.parseJSON(response);
                    Dropdown.empty();
                    // PaymentModeDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, item) {
                        Dropdown.append('<option value="' + item.EmpReqNo + '">' + item.EmpReqNo + '</option>');
                    });
                    if ($('#Mode').val() == "U" || $('#Mode').val() == "V") {
                        var EmpReqNo = '@Model.EmpReqNo';
                        $('#EmpReqNo').val(EmpReqNo).trigger("change");
                        $('#EmpReqNo').val(EmpReqNo);
                    }

                },
                error: function (xhr, status, error) {
                    alert('Failed to load groups.');
                }
            });
        }
        function GetEmpGrade() {
            $.ajax({
                url: '@Url.Action("GetEmpGrade", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {

                    var Dropdown = $('#GradeId');
                    var obj = $.parseJSON(response);
                    Dropdown.empty();

                    Dropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, item) {
                        Dropdown.append('<option value="' + item.GradeEntryID + '">' + item.EmpGrade + '</option>');
                    });

                    // For Update / View
                    if ($('#Mode').val() == "U" || $('#Mode').val() == "V") {
                        var GradeId = '@Model.GradeId';
                        Dropdown.val(GradeId);
                    }
                },
                error: function () {
                    alert('Failed to load grades.');
                }
            });
        }
        function GetCalculatePfOn() {
            $.ajax({
                url: '@Url.Action("GetCalculatePfOn", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {

                    var Dropdown = $('#CalculatePfOn');
                    var obj = $.parseJSON(response);
                    Dropdown.empty();

                    Dropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, item) {
                        Dropdown.append('<option value="' + item.SalaryHead + '">' + item.SalaryHead + '</option>');
                    });

                    // For Update / View
                    if ($('#Mode').val() == "U" || $('#Mode').val() == "V") {
                        var CalculatePfOn = '@Model.CalculatePfOn';
                        Dropdown.val(CalculatePfOn);
                    }
                },
                error: function () {
                    alert('Failed to load grades.');
                }
            });
        }

        function GetWagesType() {
            $.ajax({
                url: '@Url.Action("GetWagesType", "EmployeeMaster")',
                type: 'GET',
                async: false,
                success: function (response, status, error) {
                    var Dropdown = $('#WagesType');
                    var obj = $.parseJSON(response);
                    Dropdown.empty();
                    // PaymentModeDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, item) {
                        Dropdown.append('<option value="' + item.EmpWagesType + '">' + item.EmpWagesType + '</option>');
                    });
                    if ($('#Mode').val() == "U" || $('#Mode').val() == "V") {
                        var WagesType = '@Model.WagesType';
                        $('#WagesType').val(WagesType).trigger("change");
                        $('#WagesType').val(WagesType);
                    }

                },
                error: function (xhr, status, error) {
                    alert('Failed to load groups.');
                }
            });
        }

        function GetRefThrough() {
            $.ajax({
                url: '@Url.Action("GetRefThrough", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {

                    var Dropdown = $('#JoiningThrough');
                    Dropdown.empty();

                    // Add default option
                    Dropdown.append('<option value="">--Select--</option>');

                    var data = JSON.parse(response);

                    $.each(data.Result, function (i, item) {
                        Dropdown.append(
                            '<option value="' + item.EmpRefId + '">' + item.Referance + '</option>'
                        );
                    });

                    // Set selected value in Update or View mode
                    if ($("#Mode").val() == "U" || $("#Mode").val() == "V") {
                        var selectedId = '@Model.ThroughId';
                        $('#JoiningThrough').val(selectedId);
                    }
                },
                error: function () {
                    alert('Failed to load reference.');
                }
            });
        }


        function GetEmpIdandEmpCode() {
            var mode = '@Model.Mode';
            if (mode === "U" || mode === "V") {
                return;
            }

            var designation = $('#Designation').val();
            var department = $('#Department').val();

            $.ajax({
                type: "POST",
                data: { "designation": designation, "department": department },
                url: "@Url.Action("GetEmpIdandEmpCode")",
                dataType: "json",
                success: function (result) {
                    if (result != null) {
                        var obj = $.parseJSON(result);
                        $('#EmpId').val(obj.Result[0].EmpId);
                        $('#EmpCode').val(obj.Result[0].EmpCode);
                    }
                }
            });
        }

        function GetSalaryHead() {
            $.ajax({
                url: '@Url.Action("GetSalaryHead", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {
                    var SalaryHeadDropdown = $('#SalaryHead');
                    var obj = $.parseJSON(response);
                    SalaryHeadDropdown.empty();
                    SalaryHeadDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, Salary) {
                        SalaryHeadDropdown.append('<option value="' + Salary.SalHeadEntryId + '">' + Salary.SalaryHead + '</option>');
                    });

                    if ($('#SalaryHead').val() == "U" || $('#SalaryHead').val() == "V") {
                        var SalaryHead = '@Model.SalaryHeadId';
                        $('#SalaryHead').val(SalaryHead).trigger("change");
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }
        function GetSalaryMode() {
             
            var SalaryHeadId = $('#SalaryHead').val();
            $.ajax({
                url: '@Url.Action("GetSalaryMode", "EmployeeMaster")',
                type: 'GET',
                data:{
                    SalaryHeadId: SalaryHeadId
                },
                success: function (result) {
                    if (result != null) {
                        var obj = $.parseJSON(result);
                        //$('#AllowanceMode').val(obj.Result[0].PaymentMode);
                        $('#Percent').val(obj.Result[0].CalculationPercentage);
                        $('#AllowanceType').val(obj.Result[0].TypeOfSalary);
                        $('#PartyPay').val(obj.Result[0].PartOfPayslip);
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }
        function GetJobDepartMent() {
            $.ajax({
                url: '@Url.Action("GetJobDepartMent", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {
                    var JobDepartmentDropdown = $('#JobDepartment');
                    var obj = $.parseJSON(response);
                    JobDepartmentDropdown.empty();
                    JobDepartmentDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, Job) {
                        JobDepartmentDropdown.append('<option value="' + Job.DeptId + '">' + Job.DeptName + '</option>');
                    });

                    if ($('#JobDepartment').val() == "U" || $('#JobDepartment').val() == "V") {
                        var JobDepartment = '@Model.JobDepartmentId';
                        $('#JobDepartment').val(JobDepartment).trigger("change");
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }

        function GetJobDesignation() {
            $.ajax({
                url: '@Url.Action("GetJobDesignation", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {
                    var JobDesignationDropdown = $('#JobDesignation');
                    var obj = $.parseJSON(response);
                    JobDesignationDropdown.empty();
                    JobDesignationDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, Job) {
                        JobDesignationDropdown.append('<option value="' + Job.desigEntryId + '">' + Job.Designation + '</option>');
                    });

                    if ($('#JobDesignation').val() == "U" || $('#JobDepartment').val() == "V") {
                        var JobDesignation = '@Model.JobDesignationId';
                        $('#JobDesignation').val(JobDesignation).trigger("change");
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }

        function GetJobShift() {
            $.ajax({
                url: '@Url.Action("GetJobShift", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {
                    var JObShiftDropdown = $('#JObShift');
                    var obj = $.parseJSON(response);
                    JObShiftDropdown.empty();
                    JObShiftDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, Job) {
                        JObShiftDropdown.append('<option value="' + Job.ShiftId + '">' + Job.ShiftName + '</option>');
                    });

                    if ($('#JObShift').val() == "U" || $('#JObShift').val() == "V") {
                        var JObShift = '@Model.JObShiftId';
                        $('#JObShift').val(JObShift).trigger("change");
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }
        function GetEmployeeType () {
            $.ajax({
                url: '@Url.Action("GetEmployeeType", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {
                    var EmployeeTypeDropdown = $('#EmployeeType');
                    var obj = $.parseJSON(response);
                    EmployeeTypeDropdown.empty();
                    EmployeeTypeDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, Job) {
                        EmployeeTypeDropdown.append('<option value="' + Job.EmpType + '">' + Job.EmpType + '</option>');
                    });

                    if ($('#EmployeeType').val() == "U" || $('#EmployeeType').val() == "V") {
                        var EmployeeType = '@Model.EmployeeType';
                        $('#EmployeeType').val(EmployeeType).trigger("change");
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }
        function GetReportingMg() {
            $.ajax({
                url: '@Url.Action("GetReportingMg", "EmployeeMaster")',
                type: 'GET',
                success: function (response) {
                    var ReportingMgDropdown = $('#ReportingMg');
                    var obj = $.parseJSON(response);
                    ReportingMgDropdown.empty();
                    ReportingMgDropdown.append('<option value="">--Select--</option>');

                    $.each(obj.Result, function (index, Job) {
                        ReportingMgDropdown.append('<option value="' + Job.ReportingManager + '">' + Job.ReportingManager + '</option>');
                    });

                    if ($('#ReportingMg').val() == "U" || $('#ReportingMg').val() == "V") {
                        var ReportingMg = '@Model.ReportingMg';
                        $('#ReportingMg').val(ReportingMg).trigger("change");
                    }
                },
                error: function (xhr, status, error) {
                    alert('Failed to load alternate part codes.');
                }
            });
        }


    </script>
}
